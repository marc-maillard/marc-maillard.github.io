(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){},103:function(e,t,a){},242:function(e,t,a){},244:function(e,t,a){},246:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(94),s=a.n(c),o=(a(101),a(5)),l=a(6),i=a(8),u=a(7),d=a(3),f=(a(103),a(16)),h=a(15),y=a(45),p=a.n(y);function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var v=function(e){Object(i.a)(a,e);var t=m(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.freePass,a=this.getClasses(t);return r.a.createElement("div",{onClick:function(){return e.props.onToggleFreePass(!t)},className:a},r.a.createElement("span",{className:"display-4"},"Free Pass"))}},{key:"getClasses",value:function(e){var t="white mb-1 ";return t+=e?p.a.btn:p.a.btn_secondary}}]),a}(n.Component),g=a(46),b=a.n(g);function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var C=function(e){Object(i.a)(a,e);var t=_(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.sick,a=this.getClasses(t);return r.a.createElement("div",{onClick:function(){return e.props.onToggleSick(!t)},className:a},r.a.createElement("span",{className:"display-4"},"Sick leave"))}},{key:"getClasses",value:function(e){var t="white mb-1 ";return t+=e?b.a.btn:b.a.btn_secondary}}]),a}(n.Component),k=a(47),S=a.n(k);function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var j=function(e){Object(i.a)(a,e);var t=O(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.extraChallenge,a=this.getClasses(t);return r.a.createElement("div",{onClick:function(){return e.props.onToggleExtraChallenge(!t)},className:a},r.a.createElement("span",{className:"display-4"},"Xtra"))}},{key:"getClasses",value:function(e){var t="white mb-1 ";return t+=e?S.a.btn:S.a.btn_secondary}}]),a}(n.Component),E=a(48),D=a.n(E);function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var R=function(e){Object(i.a)(a,e);var t=w(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.mandatoryChallenge,a=this.getClasses(t);return r.a.createElement("div",{onClick:function(){return e.props.onToggleMandatoryChallenge(!t)},className:a},r.a.createElement("span",{className:"display-4"},"30'"))}},{key:"getClasses",value:function(e){var t="white mb-1 ";return t+=e?D.a.btn:D.a.btn_secondary}}]),a}(n.Component),N=a(49),T=a.n(N);function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var P=function(e){Object(i.a)(a,e);var t=x(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.recalledChallenge,a=this.getClasses(t);return r.a.createElement("div",{onClick:function(){return e.props.onToggleRecalledChallenge(!t)},className:a},r.a.createElement("span",{className:"display-4"},"60'"))}},{key:"getClasses",value:function(e){var t="white mb-1 ";return t+=e?T.a.btn:T.a.btn_secondary}}]),a}(n.Component);function M(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var U=function(e){Object(i.a)(a,e);var t=M(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"badge badge-secondary"},this.props.scoreLabel," ",r.a.createElement("span",{className:"badge badge-light"},this.props.score))}}]),a}(n.Component);function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var H=function(e){Object(i.a)(a,e);var t=A(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).HandleToggleFreePass=function(t){console.log("new Free Pass State: ",t);var a=Object(h.a)({},e.props.day);a.freePass=t,t&&(a.mandatoryChallenge=!1,a.sick=!1,a.extraChallenge=!1,a.recalledChallenge=!1),e.UpdateState(a)},e.HandleToggleMandatoryChallenge=function(t){console.log("new MandatoryChallenge State: ",t);var a=Object(h.a)({},e.props.day);a.mandatoryChallenge=t,t?(a.sick=!1,a.freePass=!1):a.recalledChallenge=!1,e.UpdateState(a)},e.HandleToggleSick=function(t){console.log("new Sick State: ",t);var a=Object(h.a)({},e.props.day);a.sick=t,t&&(a.mandatoryChallenge=!1,a.freePass=!1,a.extraChallenge=!1,a.recalledChallenge=!1),e.UpdateState(a)},e.HandleToggleExtraChallenge=function(t){console.log("new ExtraChallenge State: ",t);var a=Object(h.a)({},e.props.day);a.extraChallenge=t,t?(a.sick=!1,a.freePass=!1):a.recalledChallenge=!1,e.UpdateState(a)},e.HandleToggleRecalledChallenge=function(t){console.log("new RecalledChallenge State: ",t);var a=Object(h.a)({},e.props.day);e.props.day.mandatoryChallenge&&e.props.day.extraChallenge&&e.props.redStrokesExist||(t=!1),a.recalledChallenge=t,t&&(a.sick=!1,a.freePass=!1),e.UpdateState(a)},e}return Object(l.a)(a,[{key:"UpdateState",value:function(e){var t=this.ComputedDailyScore(e);e.dailyScore=t,this.props.OnDayUpdate(e)}},{key:"ComputedDailyScore",value:function(e){var t=0;return e.sick?2:e.freePass?2:(e.mandatoryChallenge&&(t+=1),e.extraChallenge&&(t+=1),e.recalledChallenge&&(t+=1),t)}},{key:"render",value:function(){return r.a.createElement("span",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col d-flex justify-content-center"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col"},r.a.createElement("span",{className:"display-4"},this.props.day.date))),r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-sm "},r.a.createElement(R,{onToggleMandatoryChallenge:this.HandleToggleMandatoryChallenge,mandatoryChallenge:this.props.day.mandatoryChallenge})),r.a.createElement("div",{className:"col-sm"},r.a.createElement(j,{onToggleExtraChallenge:this.HandleToggleExtraChallenge,extraChallenge:this.props.day.extraChallenge})),r.a.createElement("div",{className:"col-sm"},r.a.createElement(P,{onToggleRecalledChallenge:this.HandleToggleRecalledChallenge,recalledChallenge:this.props.day.recalledChallenge}))),r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-sm"},r.a.createElement(C,{onToggleSick:this.HandleToggleSick,sick:this.props.day.sick}))),r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-sm"},r.a.createElement(v,{onToggleFreePass:this.HandleToggleFreePass,freePass:this.props.day.freePass})))),r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col"},r.a.createElement(U,{scoreLabel:"Daily score",score:this.props.day.dailyScore})))))))}}]),a}(n.Component),I=a(4),G=a.n(I),Y=a(9),F=a.n(Y);function J(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var B=function(e){Object(i.a)(a,e);var t=J(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={currentMonth:new Date,selectedDate:new Date},e.onDateClick=function(t){e.setState({selectedDate:t}),e.props.onNavigateTo(t)},e.nextMonth=function(){e.setState({currentMonth:F.a.addMonths(e.state.currentMonth,1)})},e.prevMonth=function(){e.setState({currentMonth:F.a.subMonths(e.state.currentMonth,1)})},e}return Object(l.a)(a,[{key:"renderHeader",value:function(){return r.a.createElement("div",{className:[G.a.header,G.a.row,G.a["flex-middle"]].join(" ")},r.a.createElement("div",{className:[G.a.col,G.a["col-start"]].join(" ")},r.a.createElement("div",{className:G.a.icon,onClick:this.prevMonth},"chevron_left")),r.a.createElement("div",{className:[G.a.col,G.a["col-center"]].join(" ")},r.a.createElement("span",null,F.a.format(this.state.currentMonth,"MMMM YYYY"))),r.a.createElement("div",{className:[G.a.col,G.a["col-end"]].join(" ")},r.a.createElement("div",{className:G.a.icon,onClick:this.nextMonth},"chevron_right")))}},{key:"renderDays",value:function(){for(var e=[],t=F.a.startOfISOWeek(this.state.currentMonth),a=0;a<7;a++)e.push(r.a.createElement("div",{className:[G.a.col,G.a["col-center"]].join(" "),key:a},F.a.format(F.a.addDays(t,a),"dddd")));return r.a.createElement("div",{className:[G.a.days,G.a.row].join(" ")},e)}},{key:"getCellClasses",value:function(e,t,a){var n=[G.a.col,G.a.cell].join(" "),r=this.getClassFromScoreType(e);return!F.a.isSameMonth(e,t)||F.a.isAfter(e,new Date)||F.a.isBefore(e,F.a.format(this.props.startDate))||F.a.isAfter(e,F.a.format(this.props.endDate))?[n,G.a.disabled].join(" "):F.a.isSameDay(e,a)&&(n=[n,G.a.selected].join(" "),null==r)?[n,G.a.calendar_empty].join(" "):[n,this.getClassFromScoreType(e)].join(" ")}},{key:"getClassFromScoreType",value:function(e){var t=this.GetDateString(e),a=this.props.days.filter(function(e){return e.date===t});if(1===a.length){var n=a[0];if(n.freePass)return G.a.calender_freePass;if(n.sick)return G.a.calender_sick;if(n.recalledChallenge)return G.a.calender_recalledChallenge;if(n.mandatoryChallenge&&n.extraChallenge)return G.a.calender_mandatoryXtraChallenge;if(n.mandatoryChallenge||n.extraChallenge)return G.a.calender_failedChallenge}return null}},{key:"GetDateString",value:function(e){var t=new Date(e);return new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString().split("T")[0]}},{key:"renderCells",value:function(){for(var e=this,t=this.state,a=t.currentMonth,n=t.selectedDate,c=F.a.startOfMonth(a),s=F.a.endOfMonth(c),o=F.a.startOfISOWeek(c),l=F.a.endOfISOWeek(s),i=[],u=[],d=o,f="";d<=l;){for(var h=function(t){f=F.a.format(d,"D");var a=d;u.push(r.a.createElement("div",{className:e.getCellClasses(d,c,n),key:d,onClick:function(){return e.onDateClick(F.a.parse(a))}},r.a.createElement("span",{className:G.a.number},f),r.a.createElement("span",{className:G.a.bg},f))),d=F.a.addDays(d,1)},y=0;y<7;y++)h();i.push(r.a.createElement("div",{className:G.a.row,key:d},u)),u=[]}return r.a.createElement("div",{className:G.a.body},i)}},{key:"render",value:function(){return r.a.createElement("div",{className:G.a.calendar},this.renderHeader(),this.renderDays(),this.renderCells())}}]),a}(n.Component),L=a(20),q=a.n(L);function W(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return z(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return z(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,s=!0,o=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,c=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw c}}}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function V(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var X=function(e){Object(i.a)(a,e);var t=V(a);function a(){var e;Object(o.a)(this,a),(e=t.call(this)).HandleDailyScoreUpdate=function(e){},e.HandleDayUpdate=function(t){if(e.setState({dateToDisplay:t}),e.state.user.days.some(function(e){return e.date===t.date})){var a=Object(h.a)({},e.state.user);q.a.post("https://stark-woodland-24163.herokuapp.com/user/update/"+a._id+"/day/"+t._id,t).then(function(n){var r=Object(f.a)(e.state.user.days);r[e.state.user.days.findIndex(function(e){return e.date===t.date})]=t,a.days=r,e.setState({user:a},function(){e.CalculateTotalScore()})})}else{var n=Object(h.a)({},e.state.user);q.a.post("https://stark-woodland-24163.herokuapp.com/user/"+n._id+"/day/add",t).then(function(a){t._id=a.data._id;var r=[].concat(Object(f.a)(e.state.user.days),[t]);n.days=r,e.setState({user:n},function(){e.CalculateTotalScore()})})}},e.HandleNavigateTo=function(t){var a=e.GetDay(t);e.setState({dateToDisplay:a})},e.HandleCalendarClassnames=function(t){if("month"===t.view){var a=e.GetDay(t.date);return a.freePass?"freePassTile":a.sick?"sickTile":a.recalledChallenge?"recalledChallengeTile":a.mandatoryChallenge&&a.extraChallenge?"regularTile":"redDayTile"}return null},e.state={user:{name:"",days:[]}};var n=e.GetToday();return e.state.user.days.push(n),e.state.dateToDisplay=n,e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(!this.state.user._id){var t=this.props.userName;q.a.get("https://stark-woodland-24163.herokuapp.com/user/name/"+t).then(function(t){var a=t.data;a=e.RemoveUnnecessaryData(a),e.setState({user:a},function(){var t=e.GetToday();e.setState({dateToDisplay:t})})}).catch(function(a){var n=Object(h.a)({},e.state.user);n.name=t,q.a.post("https://stark-woodland-24163.herokuapp.com/user/add/",n).then(function(t){n._id=t.data._id,n.days[0]._id=t.data.day_id,e.setState({user:n})}).catch(function(e){})})}}},{key:"RemoveUnnecessaryData",value:function(e){var t=e.days.filter(function(e){return console.log("loop of days: ",e.date),e.date>="2020-12-05"&&e.date<="2021-01-03"});return console.log("necessaryDays: ",t),e.days=t,e}},{key:"CountFreePassUsed",value:function(){return this.state.user&&this.state.user.days?Object(f.a)(this.state.user.days).filter(function(e){return!0===e.freePass}).length:0}},{key:"CountSickDays",value:function(){return this.state.user&&this.state.user.days?Object(f.a)(this.state.user.days).filter(function(e){return!0===e.sick}).length:0}},{key:"countMaxNumberOfRedStrokesUntilYesterday",value:function(){if(!this.state.user||!this.state.user.days)return 0;var e=0,t=new Date("2020-12-05"),a=new Date(this.state.dateToDisplay.date)-t;return a>0&&(e=a/864e5*2),console.log(e),e}},{key:"CountRedStrokesUntilYesterday",value:function(){if(!this.state.user||!this.state.user.days)return 0;var e,t=Object(f.a)(this.state.user.days),a=this.countMaxNumberOfRedStrokesUntilYesterday(),n=W(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.date<this.state.dateToDisplay.date&&((r.sick||r.freePass)&&(a-=2),r.mandatoryChallenge&&(a-=1),r.extraChallenge&&(a-=1),r.recalledChallenge&&(a-=1))}}catch(c){n.e(c)}finally{n.f()}return a}},{key:"CalculateTotalScore",value:function(){if(!this.state.user||!this.state.user.days)return 0;return Object(f.a)(this.state.user.days).reduce(function(e,t){return e+t.dailyScore},0)}},{key:"GetToday",value:function(){var e=new Date,t=new Date("2021-01-03");return t<e?this.GetDay(t):this.GetDay(e)}},{key:"GetDay",value:function(e){var t=this.GetDateString(e),a=[];return null!=this.state&&null!=this.state.user&&null!=this.state.user.days&&(a=this.state.user.days.filter(function(e){return e.date===t})),0===a.length?{date:t,dailyScore:0,freePass:!1,mandatoryChallenge:!1,extraChallenge:!1,recalledChallenge:!1}:Object(h.a)({},a[0])}},{key:"GetDateString",value:function(e){var t=new Date(e);return new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString().split("T")[0]}},{key:"render",value:function(){return console.log("state at render: ",this.state),r.a.createElement("span",null,r.a.createElement("a",{href:"/"},r.a.createElement("button",{type:"button",className:"btn btn-primary",style:{width:"75%"}},r.a.createElement("span",{className:"display-5"},"Home"))),r.a.createElement("h2",null,this.props.userName),r.a.createElement(H,{OnDailyScoreUpdate:this.HandleDailyScoreUpdate,OnDayUpdate:this.HandleDayUpdate,day:this.state.dateToDisplay,redStrokesExist:this.CountRedStrokesUntilYesterday()>0}),r.a.createElement(U,{scoreLabel:"Total score ",score:this.CalculateTotalScore()}),r.a.createElement(U,{scoreLabel:"Free pass used ",score:this.CountFreePassUsed()}),r.a.createElement(U,{scoreLabel:"Sick days ",score:this.CountSickDays()}),r.a.createElement(U,{scoreLabel:"Red strokes ",score:this.CountRedStrokesUntilYesterday()}),r.a.createElement(B,{onNavigateTo:this.HandleNavigateTo,days:this.state.user&&this.state.user.days?this.state.user.days:[],startDate:"2020-12-05",endDate:"2021-01-03"}))}}]),a}(n.Component),$=a(2);function Z(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return Q(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Q(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,s=!0,o=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,c=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw c}}}}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function K(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var ee=function(e){Object(i.a)(a,e);var t=K(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={users:[],inputValue:""},e.handleChange=function(t){e.setState({inputValue:t.target.value})},e.handleSubmit=function(t){console.log("new user: ",e.state.inputValue),t.preventDefault(),e.props.history.push("/"+e.state.inputValue)},e.handleUserClicked=function(t,a){a.preventDefault(),console.log("handleUserClicked: ",t),e.props.history.push("/"+t)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;q.a.get("https://stark-woodland-24163.herokuapp.com/user").then(function(t){var a=t.data,n=[];console.log(a),a.map(function(t){return n.push({name:t.name,totalScore:e.CalculateTotalScore(t),redStrokes:e.CountRedStrokesUntilYesterday(t)})}),n.sort(function(e,t){return e.redStrokes>t.redStrokes?1:-1}),e.setState({users:n},function(){console.log("state: ",e.state)})}).catch(function(e){console.log("error while fetching users. ",e)})}},{key:"CalculateTotalScore",value:function(e){if(null==e||null==e.days)return 0;e=this.RemoveUnnecessaryData(e);return Object(f.a)(e.days).reduce(function(e,t){return e+t.dailyScore},0)}},{key:"RemoveUnnecessaryData",value:function(e){var t=e.days.filter(function(e){return console.log("loop of days: ",e.date),e.date>="2020-12-05"&&e.date<="2021-01-03"});return console.log("necessaryDays: ",t),e.days=t,e}},{key:"countMaxNumberOfRedStrokesUntilYesterday",value:function(){var e=0,t=new Date("2020-12-05"),a=new Date("2021-01-03"),n=new Date(this.GetTodayAsString());a<n&&(n=a);var r=n-t;return r>0&&(e=r/864e5*2),console.log("MaxNumberOfRedStrokes: ",e),e}},{key:"CountRedStrokesUntilYesterday",value:function(e){if(null==e||null==e.days)return 0;var t,a=this.GetTodayAsString(),n=Object(f.a)(e.days),r=this.countMaxNumberOfRedStrokesUntilYesterday(),c=Z(n);try{for(c.s();!(t=c.n()).done;){var s=t.value;s.date<a&&((s.sick||s.freePass)&&(r-=2),s.mandatoryChallenge&&(r-=1),s.extraChallenge&&(r-=1),s.recalledChallenge&&(r-=1))}}catch(o){c.e(o)}finally{c.f()}return r}},{key:"GetTodayAsString",value:function(){var e=new Date;return new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().split("T")[0]}},{key:"GetPlaceIcon",value:function(e){var t=this.state.users.length;return 0===e?"btn btn-primary p-3 ranking-image firstPlace":t-e===1?"btn btn-primary p-3 ranking-image lastPlace":"btn btn-primary p-3 ranking-image inbetween"}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.users.map(function(t,a){return r.a.createElement("div",{className:"row mt-2",key:t.name},r.a.createElement("div",{className:"col"},r.a.createElement("button",{type:"button",onClick:function(a){return e.handleUserClicked(t.name,a)},className:e.GetPlaceIcon(a),style:{width:"75%"}},r.a.createElement("span",{className:"display-5"},t.name," ",r.a.createElement("span",{className:"badge badge-light pull-right"},t.redStrokes)))))}),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"row mt-5"},r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",value:this.state.value,onChange:this.handleChange,style:{width:"75%"}}))),r.a.createElement("div",{className:"row mt-2"},r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"submit",className:"btn btn-primary p-3",value:"add new user",style:{width:"75%"}})))))}}]),a}(n.Component),te=Object($.e)(ee),ae=a(44);function ne(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var re=function(e){Object(i.a)(a,e);var t=ne(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).specificUser=function(e){return r.a.createElement(X,{userName:e.match.params.name})},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"Container"},r.a.createElement(ae.a,null,r.a.createElement($.a,{path:"/",exact:!0,component:te}),r.a.createElement($.a,{path:"/:name",component:this.specificUser}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(238),a(240),a(242),a(244);s.a.render(r.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},4:function(e,t,a){e.exports={icon:"calendar_icon__2R4bc",logo:"calendar_logo__1Tgfb",row:"calendar_row__3_Iwv","row-middle":"calendar_row-middle__gLsSA",col:"calendar_col__1feYn","col-start":"calendar_col-start__1j3IE","col-center":"calendar_col-center__3r66u","col-end":"calendar_col-end__1r1iA",calendar:"calendar_calendar__A6LCr",header:"calendar_header__1Wtzt",days:"calendar_days__36-YE",body:"calendar_body__14cnp",cell:"calendar_cell__3rrCh",calendar_empty:"calendar_calendar_empty__Zt3vN",calender_sick:"calendar_calender_sick__tYqdh",calender_freePass:"calendar_calender_freePass__3xCu8",calender_mandatoryXtraChallenge:"calendar_calender_mandatoryXtraChallenge__1FGTH",calender_recalledChallenge:"calendar_calender_recalledChallenge__1j12M",calender_failedChallenge:"calendar_calender_failedChallenge__20n7s",number:"calendar_number__1J0J1",disabled:"calendar_disabled__1tFic",bg:"calendar_bg__2Iuzl",selected:"calendar_selected__1rClF"}},45:function(e,t,a){e.exports={btn:"freePassButton_btn__3Ane3 bootstrap_btn__1hJkr",btn_secondary:"freePassButton_btn_secondary__1pdrg bootstrap_btn__1hJkr undefined undefined bootstrap_btn-secondary__qTcfy"}},46:function(e,t,a){e.exports={btn:"sickButton_btn__hbVZP bootstrap_btn__1hJkr",btn_secondary:"sickButton_btn_secondary__30j0Q bootstrap_btn__1hJkr undefined undefined bootstrap_btn-secondary__qTcfy"}},47:function(e,t,a){e.exports={btn:"extraChallengeButton_btn__3hwTw bootstrap_btn__1hJkr",btn_secondary:"extraChallengeButton_btn_secondary__2wPGe bootstrap_btn__1hJkr undefined undefined bootstrap_btn-secondary__qTcfy"}},48:function(e,t,a){e.exports={btn:"mandatoryChallengeButton_btn__bCb2J bootstrap_btn__1hJkr",btn_secondary:"mandatoryChallengeButton_btn_secondary__SNa02 bootstrap_btn__1hJkr undefined undefined bootstrap_btn-secondary__qTcfy"}},49:function(e,t,a){e.exports={btn:"recalledChallengeButton_btn__2p5Ni bootstrap_btn__1hJkr",btn_secondary:"recalledChallengeButton_btn_secondary__37IrM bootstrap_btn__1hJkr undefined undefined bootstrap_btn-secondary__qTcfy"}},96:function(e,t,a){e.exports=a(246)}},[[96,2,1]]]);
//# sourceMappingURL=main.f068ec2d.chunk.js.map